"use strict";(self.webpackChunkleads_management=self.webpackChunkleads_management||[]).push([[672],{8672:(Jt,Z,s)=>{s.r(Z),s.d(Z,{SponsorModule:()=>qt});var S=s(1896),q=s(4405),t=s(5879),g=s(6825),i=s(6223),J=s(9862);let T=(()=>{class e{constructor(n){this.http=n,this.apiBaseUrl="https://dev.nobala.edu.sa/api/"}getSponsors(){return this.http.get(`${this.apiBaseUrl}sponsors`)}addSponsor(n){return this.http.post(`${this.apiBaseUrl}sponsors`,n)}static#t=this.\u0275fac=function(a){return new(a||e)(t.LFG(J.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var D=s(2939),N=s(3946),_=s(6814),I=s(4807),A=s(5545);function U(e,l){1&e&&(t.TgZ(0,"div",25),t._uU(1," \u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a "),t.qZA())}function k(e,l){if(1&e&&(t.TgZ(0,"div",25)(1,"div"),t._uU(2),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Oqu(n.mailMsg)}}const u=function(e){return{"is-invalid":e}};let R=(()=>{class e{constructor(n,a,o){this._sponsorService=n,this._snackBar=a,this.activeModal=o,this.name="",this.description="",this.model={contact_officers:[{}]},this.options={},this.fields=[{key:"sponsor_contact_officer",type:"repeat",props:{addText:"Add sponsor contact",label:"sponsor contact officer"},fieldArray:{fieldGroupClassName:"row",templateOptions:{btnText:"Add another investment"},fieldGroup:[{className:"col-sm-4 col-12",type:"input",key:"contact_officer_name",defaultValue:"",templateOptions:{label:"Contact Officer Name:",required:!0}},{type:"input",key:"email",className:"col-sm-4 col-12",templateOptions:{type:"email",label:"email",required:!0}},{type:"input",key:"phone",className:"col-sm-4 col-12",defaultValue:"",templateOptions:{label:"phone",required:!0}}]}}],this.submitted=!1,this.mailMsg=""}ngOnInit(){this.initForm()}initForm(){this.addForm=new i.cw({sponsor_name:new i.NI("",[i.kI.required]),sponsor_type:new i.NI("",[i.kI.required]),sponsor_ID:new i.NI("",[i.kI.required]),email:new i.NI("",[i.kI.required]),phone:new i.NI("",[i.kI.required]),address:new i.NI("",[i.kI.required]),postal_code:new i.NI("",[i.kI.required]),max_limit:new i.NI("",[i.kI.required]),financial_limit:new i.NI("",[i.kI.required]),time_limit:new i.NI("",[i.kI.required,i.kI.min(1),i.kI.max(27)])})}get f(){return this.addForm}addSponsor(){this._sponsorService.addSponsor(this.f.value).subscribe(n=>{console.log(n),alert("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u0641\u064a\u0644 \u0628\u0646\u062c\u0627\u062d"),this.addForm.reset()},()=>{})}onSubmit(){this.submitted=!0,console.log(this.addForm),this.addForm.invalid?this._snackBar.open("All fileds required!","close",{horizontalPosition:"end",verticalPosition:"top"}):this.addSponsor()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(T),t.Y36(D.ux),t.Y36(N.Kz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add"]],decls:68,vars:36,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"auth-register-form","mt-2",3,"formGroup"],[1,"row"],[1,"col-6","mt-2"],[1,"form-group"],[1,"form-label"],["type","text","formControlName","sponsor_name","placeholder","","aria-describedby","register-first-name","tabindex","1",1,"form-control",3,"ngClass"],[1,"form-group","mt-1"],["formControlName","sponsor_type"],[3,"value"],["type","number","formControlName","sponsor_ID","aria-describedby","register-mobile","tabindex","4",1,"form-control",3,"ngClass"],["type","text","formControlName","address","aria-describedby","register-mobile","tabindex","4",1,"form-control",3,"ngClass"],["type","text","formControlName","postal_code","aria-describedby","register-mobile","tabindex","4",1,"form-control",3,"ngClass"],["type","email","formControlName","email","tabindex","5",1,"form-control",3,"ngClass"],["class","error",4,"ngIf"],["type","text","formControlName","phone","aria-describedby","register-mobile","tabindex","4",1,"form-control",3,"ngClass"],["type","number","formControlName","max_limit","aria-describedby","register-mobile","tabindex","4",1,"form-control",3,"ngClass"],["type","number","formControlName","financial_limit","aria-describedby","register-mobile","tabindex","4",1,"form-control",3,"ngClass"],["type","number","formControlName","time_limit","aria-describedby","register-mobile","tabindex","4",1,"form-control",3,"ngClass"],[3,"model","fields","options","form"],[1,"modal-footer","mt-1"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"error"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Add Sponsor"),t.qZA()(),t.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),t._uU(9,"Sponsor Name"),t.qZA(),t._UZ(10,"input",8),t.qZA()(),t.TgZ(11,"div",5)(12,"div",9)(13,"label",7),t._uU(14,"Sponsor Type"),t.qZA(),t.TgZ(15,"ng-select",10)(16,"ng-option",11),t._uU(17,"legal"),t.qZA(),t.TgZ(18,"ng-option",11),t._uU(19,"normal"),t.qZA()()()(),t.TgZ(20,"div",5)(21,"div",9)(22,"label",7),t._uU(23,"Sponsor Id"),t.qZA(),t._UZ(24,"input",12),t.qZA()(),t.TgZ(25,"div",5)(26,"div",9)(27,"label",7),t._uU(28,"Address"),t.qZA(),t._UZ(29,"input",13),t.qZA()(),t.TgZ(30,"div",5)(31,"div",9)(32,"label",7),t._uU(33,"Postal Code"),t.qZA(),t._UZ(34,"input",14),t.qZA()(),t.TgZ(35,"div",5)(36,"div",9)(37,"label",7),t._uU(38,"Email"),t.qZA(),t._UZ(39,"input",15),t.YNc(40,U,2,0,"div",16),t.YNc(41,k,3,1,"div",16),t.qZA()(),t.TgZ(42,"div",5)(43,"div",9)(44,"label",7),t._uU(45,"Phone"),t.qZA(),t._UZ(46,"input",17),t.qZA()(),t.TgZ(47,"div",5)(48,"div",9)(49,"label",7),t._uU(50,"Max Limit"),t.qZA(),t._UZ(51,"input",18),t.qZA()(),t.TgZ(52,"div",5)(53,"div",9)(54,"label",7),t._uU(55,"Financial Limit"),t.qZA(),t._UZ(56,"input",19),t.qZA()(),t.TgZ(57,"div",5)(58,"div",9)(59,"label",7),t._uU(60,"Time Limit"),t.qZA(),t._UZ(61,"input",20),t.qZA()()(),t._UZ(62,"formly-form",21),t.qZA()(),t.TgZ(63,"div",22)(64,"button",23),t.NdJ("click",function(){return o.activeModal.close(!1)}),t._uU(65,"Close"),t.qZA(),t.TgZ(66,"button",24),t.NdJ("click",function(){return o.onSubmit()}),t._uU(67,"Save "),t.qZA()()),2&a){let r,d,m,p,f,h,Q,b,x,C,v;t.xp6(4),t.Q6J("formGroup",o.addForm),t.xp6(6),t.Q6J("ngClass",t.VKq(18,u,(null==(r=o.f.get("sponsor_name"))?null:r.touched)&&(null==(r=o.f.get("sponsor_name"))?null:r.errors))),t.xp6(6),t.Q6J("value","legal"),t.xp6(2),t.Q6J("value","normal"),t.xp6(6),t.Q6J("ngClass",t.VKq(20,u,(null==(d=o.f.get("sponsor_id"))?null:d.touched)&&(null==(d=o.f.get("sponsor_id"))?null:d.errors))),t.xp6(5),t.Q6J("ngClass",t.VKq(22,u,(null==(m=o.f.get("address"))?null:m.touched)&&(null==(m=o.f.get("address"))?null:m.errors))),t.xp6(5),t.Q6J("ngClass",t.VKq(24,u,(null==(p=o.f.get("postal_code"))?null:p.touched)&&(null==(p=o.f.get("postal_code"))?null:p.errors))),t.xp6(5),t.Q6J("ngClass",t.VKq(26,u,(null==(f=o.f.get("email"))?null:f.touched)&&(null==(f=o.f.get("email"))?null:f.errors))),t.xp6(1),t.Q6J("ngIf",(null==(h=o.f.get("email"))?null:h.touched)&&(null==(h=o.f.get("email"))||null==h.errors?null:h.errors.required)),t.xp6(1),t.Q6J("ngIf",o.mailMsg&&(null==(Q=o.f.get("email"))?null:Q.touched)),t.xp6(5),t.Q6J("ngClass",t.VKq(28,u,(null==(b=o.f.get("phone"))?null:b.touched)&&(null==(b=o.f.get("phone"))?null:b.errors))),t.xp6(5),t.Q6J("ngClass",t.VKq(30,u,(null==(x=o.f.get("max_limit"))?null:x.touched)&&(null==(x=o.f.get("max_limit"))?null:x.errors))),t.xp6(5),t.Q6J("ngClass",t.VKq(32,u,(null==(C=o.f.get("financial_limit"))?null:C.touched)&&(null==(C=o.f.get("financial_limit"))?null:C.errors))),t.xp6(5),t.Q6J("ngClass",t.VKq(34,u,(null==(v=o.f.get("time_limit"))?null:v.touched)&&(null==(v=o.f.get("time_limit"))?null:v.errors))),t.xp6(1),t.Q6J("model",o.model)("fields",o.fields)("options",o.options)("form",o.addForm)}},dependencies:[_.mk,_.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,I.w9,I.jq,A.T7],styles:[".domain-text[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 18px;background-color:#6e6b7b;color:#fff;font-weight:700}.custom-domain-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:0}.border-radius-right[_ngcontent-%COMP%]{border-radius:0 4px 4px 0}.border-radius-left[_ngcontent-%COMP%]{border-radius:4px 0 0 4px}.loader[_ngcontent-%COMP%]{border:1px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:25px;height:23px;animation:_ngcontent-%COMP%_spin 2s linear infinite;position:absolute;right:0;top:31%;transform:translateY(50%)}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.feather[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%)}"]})}return e})();var c=s(5313),M=s(3365),y=s(3566),Y=s(617),O=s(2296),V=s(9157),E=s(8525),w=s(3680),G=s(2032);const B=["*"],j=new t.OlP("MAT_CARD_CONFIG");let F=(()=>{class e{constructor(n){this.appearance=n?.appearance||"raised"}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(j,8))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(a,o){2&a&&t.ekj("mat-mdc-card-outlined","outlined"===o.appearance)("mdc-card--outlined","outlined"===o.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:B,decls:1,vars:0,template:function(a,o){1&a&&(t.F$t(),t.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),K=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[w.BQ,_.ez,w.BQ]})}return e})(),L=(()=>{class e{transform(n,a){return n&&a?(a=a.toLowerCase(),n.data.filter(o=>o.value.sponsor_name.toLowerCase().includes(a))):n}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275pipe=t.Yjl({name:"tableFilter",type:e,pure:!0})}return e})();function X(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1," No."),t.qZA())}function W(e,l){1&e&&(t.TgZ(0,"td",32)(1,"mat-form-field",33),t._UZ(2,"input",34),t.qZA()()),2&e&&(t.Q6J("formGroup",l.$implicit),t.xp6(2),t.Q6J("readonly",!0))}function tt(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1," Sponsor Name"),t.qZA())}function et(e,l){if(1&e&&(t.TgZ(0,"td",32)(1,"mat-form-field",35),t._UZ(2,"input",36),t.qZA()()),2&e){const n=l.$implicit,a=l.index,o=t.oxw();let r,d;t.Q6J("formGroup",n),t.xp6(1),t.Q6J("appearance",null!=(r=o.VOForm.get("VORows"))&&null!=r.value[a]&&r.value[a].isEditable?"outline":"fill"),t.xp6(1),t.Q6J("readonly",null==(d=o.VOForm.get("VORows"))||null==d.value[a]?null:d.value[a].isEditable)}}function at(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1," Sponsor Type"),t.qZA())}function nt(e,l){1&e&&t._UZ(0,"input",40)}function ot(e,l){1&e&&(t.TgZ(0,"mat-select",41)(1,"mat-option",42),t._uU(2,"legal"),t.qZA(),t.TgZ(3,"mat-option",42),t._uU(4,"normal"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("value","legal"),t.xp6(2),t.Q6J("value","normal"))}function it(e,l){if(1&e&&(t.TgZ(0,"td",32)(1,"mat-form-field",37),t.YNc(2,nt,1,0,"input",38),t.YNc(3,ot,5,2,"mat-select",39),t.qZA()()),2&e){const n=l.$implicit,a=l.index,o=t.oxw();let r,d,m;t.Q6J("formGroup",n),t.xp6(1),t.Q6J("appearance",null!=(r=o.VOForm.get("VORows"))&&null!=r.value[a]&&r.value[a].isEditable?"outline":"fill"),t.xp6(1),t.Q6J("ngIf",null==(d=o.VOForm.get("VORows"))?null:d.value[a].isEditable),t.xp6(1),t.Q6J("ngIf",!(null!=(m=o.VOForm.get("VORows"))&&m.value[a].isEditable))}}function rt(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1," Sponsor ID"),t.qZA())}function lt(e,l){if(1&e&&(t.TgZ(0,"td",32)(1,"mat-form-field",37),t._UZ(2,"input",43),t.qZA()()),2&e){const n=l.$implicit,a=l.index,o=t.oxw();let r,d;t.Q6J("formGroup",n),t.xp6(1),t.Q6J("appearance",null!=(r=o.VOForm.get("VORows"))&&r.value[a].isEditable?"outline":"fill"),t.xp6(1),t.Q6J("readonly",null==(d=o.VOForm.get("VORows"))?null:d.value[a].isEditable)}}function dt(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1," Email"),t.qZA())}function st(e,l){if(1&e&&(t.TgZ(0,"td",32)(1,"mat-form-field",37),t._UZ(2,"input",44),t.qZA()()),2&e){const n=l.$implicit,a=l.index,o=t.oxw();let r,d;t.Q6J("formGroup",n),t.xp6(1),t.Q6J("appearance",null!=(r=o.VOForm.get("VORows"))&&r.value[a].isEditable?"outline":"fill"),t.xp6(1),t.Q6J("readonly",null==(d=o.VOForm.get("VORows"))?null:d.value[a].isEditable)}}function ct(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1," Phone"),t.qZA())}function mt(e,l){if(1&e&&(t.TgZ(0,"td",32)(1,"mat-form-field",37),t._UZ(2,"input",45),t.qZA()()),2&e){const n=l.$implicit,a=l.index,o=t.oxw();let r,d;t.Q6J("formGroup",n),t.xp6(1),t.Q6J("appearance",null!=(r=o.VOForm.get("VORows"))&&null!=r.value[a]&&r.value[a].isEditable?"outline":"fill"),t.xp6(1),t.Q6J("readonly",null==(d=o.VOForm.get("VORows"))?null:d.value[a].isEditable)}}function ut(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1," Adress"),t.qZA())}function pt(e,l){if(1&e&&(t.TgZ(0,"td",32)(1,"mat-form-field",37),t._UZ(2,"input",46),t.qZA()()),2&e){const n=l.$implicit,a=l.index,o=t.oxw();let r,d;t.Q6J("formGroup",n),t.xp6(1),t.Q6J("appearance",null!=(r=o.VOForm.get("VORows"))&&r.value[a].isEditable?"outline":"fill"),t.xp6(1),t.Q6J("readonly",null==(d=o.VOForm.get("VORows"))?null:d.value[a].isEditable)}}function gt(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1," Max Limit"),t.qZA())}function ft(e,l){if(1&e&&(t.TgZ(0,"td",32)(1,"mat-form-field",37),t._UZ(2,"input",47),t.qZA()()),2&e){const n=l.$implicit,a=l.index,o=t.oxw();let r,d;t.Q6J("formGroup",n),t.xp6(1),t.Q6J("appearance",null!=(r=o.VOForm.get("VORows"))&&r.value[a].isEditable?"outline":"fill"),t.xp6(1),t.Q6J("readonly",null==(d=o.VOForm.get("VORows"))?null:d.value[a].isEditable)}}function _t(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1," Financial Limit"),t.qZA())}function ht(e,l){if(1&e&&(t.TgZ(0,"td",32)(1,"mat-form-field",37),t._UZ(2,"input",48),t.qZA()()),2&e){const n=l.$implicit,a=l.index,o=t.oxw();let r,d;t.Q6J("formGroup",n),t.xp6(1),t.Q6J("appearance",null!=(r=o.VOForm.get("VORows"))&&r.value[a].isEditable?"outline":"fill"),t.xp6(1),t.Q6J("readonly",null==(d=o.VOForm.get("VORows"))?null:d.value[a].isEditable)}}function bt(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1," Time Limit"),t.qZA())}function xt(e,l){if(1&e&&(t.TgZ(0,"td",32)(1,"mat-form-field",37),t._UZ(2,"input",49),t.qZA()()),2&e){const n=l.$implicit,a=l.index,o=t.oxw();let r,d;t.Q6J("formGroup",n),t.xp6(1),t.Q6J("appearance",null!=(r=o.VOForm.get("VORows"))&&r.value[a].isEditable?"outline":"fill"),t.xp6(1),t.Q6J("readonly",null==(d=o.VOForm.get("VORows"))?null:d.value[a].isEditable)}}function Ct(e,l){1&e&&(t.TgZ(0,"th",50),t._uU(1," Action"),t.qZA())}function vt(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().index,r=t.oxw();return t.KtG(r.SaveVO(r.VOForm,o))}),t.TgZ(1,"mat-icon"),t._uU(2,"check_circle"),t.qZA()()}}function yt(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().index,r=t.oxw();return t.KtG(r.CancelSVO(r.VOForm,o))}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA()()}}function wt(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().index,r=t.oxw();return t.KtG(r.EditSVO(r.VOForm,o))}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA()()}}function Zt(e,l){1&e&&(t.TgZ(0,"button",59)(1,"mat-icon"),t._uU(2,"delete"),t.qZA()())}function Tt(e,l){if(1&e&&(t.TgZ(0,"td",51),t.YNc(1,vt,3,0,"button",52),t.YNc(2,yt,3,0,"button",53),t.YNc(3,wt,3,0,"button",54),t.YNc(4,Zt,3,0,"button",55),t.qZA()),2&e){const n=l.$implicit,a=l.index,o=t.oxw();let r,d,m,p;t.Q6J("formGroup",n),t.xp6(1),t.Q6J("ngIf",!(null!=(r=o.VOForm.get("VORows"))&&r.value[a].isEditable)),t.xp6(1),t.Q6J("ngIf",!(null!=(d=o.VOForm.get("VORows"))&&d.value[a].isEditable)),t.xp6(1),t.Q6J("ngIf",null==(m=o.VOForm.get("VORows"))?null:m.value[a].isEditable),t.xp6(1),t.Q6J("ngIf",null==(p=o.VOForm.get("VORows"))?null:p.value[a].isEditable)}}function Nt(e,l){1&e&&t._UZ(0,"tr",60)}function It(e,l){1&e&&t._UZ(0,"tr",61)}function At(e,l){if(1&e&&(t.TgZ(0,"tr",62)(1,"td",63),t._uU(2),t.qZA()()),2&e){t.oxw();const n=t.MAs(9);t.xp6(2),t.hij('No data matching the filter "',n.value,'"')}}function Mt(e,l){1&e&&t._UZ(0,"mat-card",64)}const Ot=function(e){return[5,e]};let Vt=(()=>{class e{constructor(n,a,o,r){this._sponsorService=n,this.modalService=a,this.fb=o,this._formBuilder=r,this.displayedColumns=["position","sponsor_name","sponsor_type","sponsor_ID","email","phone","address","max_limit","financial_limit","time_limit","action"],this.isLoading=!0,this.pageNumber=1,this.searchText="",this.isEditableNew=!0,this.rows=[],this.expanded={},this.dataSource=new c.by,this.page={current_page:1,per_page:10,total_elements:200},this.tableLength=0}ngOnInit(){this.getLeads(),this.initTable()}initTable(){this.VOForm=this._formBuilder.group({VORows:this._formBuilder.array([])}),this.VOForm=this.fb.group({VORows:this.fb.array(this.rows.map((a,o)=>this.fb.group({sponsor_name:new i.NI(a.sponsor_name),address:new i.NI(a.address),email:new i.NI(a.email),position:new i.NI(o),phone:new i.NI(a.phone),postal_code:new i.NI(a.postal_code),max_limit:new i.NI(a.max_limit),time_limit:new i.NI(a.time_limit),financial_limit:new i.NI(a.financial_limit),sponsor_ID:new i.NI(a.sponsor_ID),sponsor_type:new i.NI(a.sponsor_type),action:new i.NI("existingRecord"),isEditable:new i.NI(!0),isNewRow:new i.NI(!1)})))}),this.isLoading=!1,this.dataSource=new c.by(this.VOForm.get("VORows").controls),this.dataSource.paginator=this.paginator}goToPage(){this.paginator.pageIndex=this.pageNumber-1,this.paginator.page.next({pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize,length:this.paginator.length})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.paginatorList=document.getElementsByClassName("mat-paginator-range-label"),this.onPaginateChange(this.paginator,this.paginatorList),this.paginator.page.subscribe(()=>{this.onPaginateChange(this.paginator,this.paginatorList)})}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase()}AddNewRow(){const n=this.VOForm.get("VORows");this.tableLength=n.value.length,n.insert(0,this.initiateVOForm()),this.dataSource=new c.by(n.controls)}EditSVO(n,a){n.get("VORows").at(a).get("isEditable").patchValue(!1)}SaveVO(n,a){n.get("VORows").at(a).get("isEditable").patchValue(!0)}CancelSVO(n,a){n.get("VORows").at(a).get("isEditable").patchValue(!0)}onPaginateChange(n,a){setTimeout(o=>{let m=0==n.length?0:`${n.pageSize*n.pageIndex+1} - ${n.length<n.pageSize*(n.pageIndex+1)?n.length:n.pageSize*(n.pageIndex+1)}`,f=`Page ${0==n.length?"0 of 0":`${n.pageIndex+1} of ${n.getNumberOfPages()}`} (${m} of ${n.length})`;a.length>=1&&(a[0].innerHTML=f)},0,n.pageIndex)}initiateVOForm(){return this.fb.group({position:new i.NI(this.tableLength),sponsor_name:new i.NI(`item${this.tableLength}`),address:new i.NI(`item${this.tableLength}`),email:new i.NI(`item${this.tableLength}`),phone:new i.NI(`item${this.tableLength}`),postal_code:new i.NI(this.tableLength),max_limit:new i.NI(this.tableLength),time_limit:new i.NI(this.tableLength),financial_limit:new i.NI(this.tableLength),sponsor_ID:new i.NI(this.tableLength),sponsor_type:new i.NI(this.tableLength),action:new i.NI("newRecord"),isEditable:new i.NI(!1),isNewRow:new i.NI(!0)})}getLeads(){this._sponsorService.getSponsors().subscribe(n=>{this.rows=n.data,this.page.current_page=n.current_page,this.page.per_page=n.per_page,this.page.total_elements=+n.total*this.page.per_page,this.initTable()})}openDialog(){this.modalService.open(R,{backdrop:!0,centered:!0,size:"lg"}).result.then(n=>{})}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(T),t.Y36(N.FF),t.Y36(i.qu),t.Y36(i.qu))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],viewQuery:function(a,o){if(1&a&&(t.Gf(M.NW,5),t.Gf(y.YE,5)),2&a){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first)}},decls:58,vars:12,consts:[[1,"mat-card","mt-4"],[1,"mat-elevation-z8","table-responsive","pt-4"],[1,"d-flex","justify-content-around","align-items-center","mb-4","flex-wrap"],["mat-flat-button","","color","primary",3,"click"],[2,"width","40%"],["matInput","","placeholder","Ex. ium",3,"ngModel","ngModelChange"],["input",""],["autocomplete","off",1,"table-responsive",3,"formGroup"],["formArrayName","VORows"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["table",""],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"formGroup",4,"matCellDef"],["matColumnDef","sponsor_name"],["matColumnDef","sponsor_type"],["matColumnDef","sponsor_ID"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","address"],["matColumnDef","max_limit"],["matColumnDef","financial_limit"],["matColumnDef","time_limit"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["class","d-flex align-items-center ","mat-cell","",3,"formGroup",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","mt-2",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"formGroup"],[2,"width","50px"],["matInput","","type","text","formControlName","position",3,"readonly"],[1,"example-full-width",3,"appearance"],["matInput","","type","text","formControlName","sponsor_name",3,"readonly"],[3,"appearance"],["matInput","","type","text","readonly","","formControlName","sponsor_type",4,"ngIf"],["formControlName","sponsor_type",4,"ngIf"],["matInput","","type","text","readonly","","formControlName","sponsor_type"],["formControlName","sponsor_type"],[3,"value"],["matInput","","type","text","formControlName","sponsor_ID",3,"readonly"],["matInput","","type","text","formControlName","email",3,"readonly"],["matInput","","type","text","formControlName","phone",3,"readonly"],["matInput","","type","text","formControlName","address",3,"readonly"],["matInput","","type","text","formControlName","max_limit",3,"readonly"],["matInput","","type","text","formControlName","financial_limit",3,"readonly"],["matInput","","type","text","formControlName","time_limit",3,"readonly"],["mat-header-cell",""],["mat-cell","",1,"d-flex","align-items-center",3,"formGroup"],["mat-icon-button","","class","material-icons app-toolbar-menu save-button","matTooltip","Save Changes","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","class","material-icons app-toolbar-menu cancel-button","matTooltip","Cancel Changes","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","class","material-icons app-toolbar-menu save-button","matTooltip","Edit","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","class","material-icons app-toolbar-menu delete-button","matTooltip","Delete","color","warn",4,"ngIf"],["mat-icon-button","","matTooltip","Save Changes","color","primary",1,"material-icons","app-toolbar-menu","save-button",3,"click"],["mat-icon-button","","matTooltip","Cancel Changes","color","warn",1,"material-icons","app-toolbar-menu","cancel-button",3,"click"],["mat-icon-button","","matTooltip","Edit","color","primary",1,"material-icons","app-toolbar-menu","save-button",3,"click"],["mat-icon-button","","matTooltip","Delete","color","warn",1,"material-icons","app-toolbar-menu","delete-button"],["mat-header-row",""],["mat-row","",1,"mt-2"],[1,"mat-row"],["colspan","4",1,"mat-cell"],[2,"display","flex","justify-content","center","align-items","center"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return o.AddNewRow()}),t._uU(4," + Add Row "),t.qZA(),t.TgZ(5,"mat-form-field",4)(6,"mat-label"),t._uU(7,"Filter"),t.qZA(),t.TgZ(8,"input",5,6),t.NdJ("ngModelChange",function(d){return o.searchText=d}),t.qZA()(),t.TgZ(10,"button",3),t.NdJ("click",function(){return o.openDialog()}),t._uU(11,"Add Sponsor"),t.qZA()(),t.TgZ(12,"form",7),t.ynx(13,8),t.TgZ(14,"table",9,10),t.ALo(16,"tableFilter"),t.ynx(17,11),t.YNc(18,X,2,0,"th",12),t.YNc(19,W,3,2,"td",13),t.BQk(),t.ynx(20,14),t.YNc(21,tt,2,0,"th",12),t.YNc(22,et,3,3,"td",13),t.BQk(),t.ynx(23,15),t.YNc(24,at,2,0,"th",12),t.YNc(25,it,4,4,"td",13),t.BQk(),t.ynx(26,16),t.YNc(27,rt,2,0,"th",12),t.YNc(28,lt,3,3,"td",13),t.BQk(),t.ynx(29,17),t.YNc(30,dt,2,0,"th",12),t.YNc(31,st,3,3,"td",13),t.BQk(),t.ynx(32,18),t.YNc(33,ct,2,0,"th",12),t.YNc(34,mt,3,3,"td",13),t.BQk(),t.ynx(35,19),t.YNc(36,ut,2,0,"th",12),t.YNc(37,pt,3,3,"td",13),t.BQk(),t.ynx(38,20),t.YNc(39,gt,2,0,"th",12),t.YNc(40,ft,3,3,"td",13),t.BQk(),t.ynx(41,21),t.YNc(42,_t,2,0,"th",12),t.YNc(43,ht,3,3,"td",13),t.BQk(),t.ynx(44,22),t.YNc(45,bt,2,0,"th",12),t.YNc(46,xt,3,3,"td",13),t.BQk(),t.ynx(47,23),t.YNc(48,Ct,2,0,"th",24),t.YNc(49,Tt,5,5,"td",25),t.BQk(),t.YNc(50,Nt,1,0,"tr",26),t.YNc(51,It,1,0,"tr",27),t.YNc(52,At,3,1,"tr",28),t.TgZ(53,"tr")(54,"div"),t._uU(55,"item"),t.qZA()()(),t.BQk(),t.qZA(),t.YNc(56,Mt,1,0,"mat-card",29),t._UZ(57,"mat-paginator",30),t.qZA()()),2&a&&(t.xp6(8),t.Q6J("ngModel",o.searchText),t.xp6(4),t.Q6J("formGroup",o.VOForm),t.xp6(2),t.Q6J("dataSource",t.xi3(16,7,o.dataSource,o.searchText)),t.xp6(36),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(5),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("pageSizeOptions",t.VKq(10,Ot,o.dataSource.data.length>8?o.dataSource.data.length:"")))},dependencies:[_.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee,y.YE,y.nU,Y.Hw,O.lW,O.RK,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,i.CE,V.KE,V.hX,E.gD,w.ey,M.NW,G.Nt,F,L],styles:[".lead-list[_ngcontent-%COMP%]{margin:30px auto}.w-75[_ngcontent-%COMP%]{width:75%}.bg-eee[_ngcontent-%COMP%]{background-color:#eee}th[_ngcontent-%COMP%]{background-color:#000000cf!important;color:#fff;font-size:18px;font-weight:500}.m-15[_ngcontent-%COMP%]{margin:15px 0}  .mat-mdc-form-field-subscript-wrapper{display:none}  .mdc-data-table__cell{height:87px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#fff}"],data:{animation:[(0,g.X$)("detailExpand",[(0,g.SB)("collapsed",(0,g.oB)({height:"0px",minHeight:"0"})),(0,g.SB)("expanded",(0,g.oB)({height:"*"})),(0,g.eR)("expanded <=> collapsed",(0,g.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return e})(),Ft=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-sponsor"]],decls:2,vars:0,consts:[[1,"w-90","m-auto"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t._UZ(1,"app-list"),t.qZA())},dependencies:[Vt],styles:[".w-90[_ngcontent-%COMP%]{width:90%}"]})}return e})();var Lt=s(6556),Qt=s(7422);const St=[{path:"",component:Ft}];let qt=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({providers:[L],imports:[S.Bz.forChild(St),_.ez,q.m,K,Lt.z,A.X0.forChild({types:[{name:"repeat",component:Qt.U}],validationMessages:[{name:"required",message:"This field is required"}]})]})}return e})()}}]);